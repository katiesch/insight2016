<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
       <meta charset="utf-8">
       <title>Katharine J. Schlesinger - Data Visualisations - San Diego Graffiti </title>
       <meta name="description" content="KJS - Data Visualisations - San Diego">
       <meta name="keywords" content="sandiego,graffiti,insight2016">
        <link href="https://fonts.googleapis.com/css?family=Cabin" rel="stylesheet">
        <link href="sd_styles.css" rel="stylesheet" type="text/css">

        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.0-rc.3/dist/leaflet.css" />
        <link rel="stylesheet" href="http://humangeo.github.com/leaflet-dvf/dist/css/dvf.css" type="text/css" media="screen"/>

        <script src="https://unpkg.com/leaflet@1.0.0-rc.3/dist/leaflet.js"></script>
        <script type="text/javascript" src="sandiego_city_blockgroups_modeladded.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/1.2.1/chroma.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.0.0/leaflet.ajax.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
        <script type="text/javascript" src="sdjs/linspace.js"></script>
<style>

#mapid { height: 650px;
         width: 600px;
       }

.info {
    padding: 6px 8px;
    font: 14px/16px Arial, Helvetica, sans-serif;
    background: white;
    background: rgba(255,255,255,0.8);
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
    border-radius: 5px;
}
.info h4 {
    margin: 0 0 5px;
    color: #777;
}

.legend {
    line-height: 18px;
    color: #555;
}
.legend i {
    width: 18px;
    height: 18px;
    float: left;
    margin-right: 8px;
    opacity: 0.7;
}

</style>
</head>

<body>
<div id="container">
  <div id="body_background">
  <div id="header">
    <h1>&nbsp</h1>
    <table class="figure" style="float:right; margin-right:45px; margin-top:15px; margin-bottom:0px;">
    <tr><td>
    <img src="headshot.jpg" width="110px;"></td></tr>
    </table>

    <div id="nav" align="center" style="margin-top:-25px;">
      <p style="font-size:30px;">Katharine J. Schlesinger</p>
      <p style="font-size:16px;">Fellow at Insight Data Science</p>
      <p style="font-size:16px;">kschlesinger@gmail.com</p>
      <br />
      <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="KatharineSchlesinger.pdf">Resume</a></li>
      <li><a href="publications.html">Publications/Talks</a></li>
      <li><a href="projects.html">Astronomy</a></li>
      <li><a href="other_work.html" class="current">Data Science</a></li>
      <li><a href="diversity.html">STEM Equity</a></li>
      <!--<li><a href="links.html">Useful Links</a></li>-->
      <li><a href="https://www.linkedin.com/in/katiesch">LinkedIn</a></li>
      <li><a href="https://github.com/katiesch">GitHub</a></li>
      </ul>
    </div>
  </div>

  <div id="mainbody">
     <div id="mainbody_text">

       <h2>CleanStreet: Optimizing Graffiti Removal in San Diego</h2>
       <i>In partnership with the <a href="https://www.sandiego.gov/pad">City of San Diego
       Performance & Analytics Department</a></i></br>
       <i>2016/09/29</i>

       </br></br>
       <a href="#map_dropdown">Jump straight to the map</a>
       </br>
       
       <p>Whether large or small, graffiti has a significant effect on
       neighborhood quality. At the most basic level, graffiti is
       expensive to repair, costing San Diego upwards of $5 million
       dollars per year<sup><a href="#fn1"
       id="ref1">1</a></sup>. Graffiti also has a detrimental effect
       on property values and can potentially increase crime
       rates. Small persistent crimes, such as vandalism, leads
       residents to disengage from their neighborhoods, eventually
       making it more susceptible to significant criminal activity<sup><a
       href="#fn2" id="ref2">2</a></sup>. If you apply that theory here, San Diego's
       persistent graffiti issue could eventually open it up to much
       larger and more pernicious problems.  </p>

       <p>Given the potential long term issues graffiti could cause the city,
       San Diego is committed to decreasing it. In June, the city
       announced a new <a
       href="https://www.sandiego.gov/get-it-done">Get It Done</a>
       system, through which residents can submit reports on a wide
       range of problems, like graffiti, downed trees, and
       potholes. This system is designed to help government learn more
       about the range of problems in different municipal areas and
       improve their response time. Response time is particularly
       important for graffiti, because rapid clean ups discourage
       further tagging activity. Research shows that people won't
       go through the effort to tag a wall when
       they know that their graffiti will be cleaned up in a manner of
       days<sup><a
       href="#fn3" id="ref3">3</a></sup>.</p>

<p>Unfortunately, not every area is using the Get It Done system equally. The
       bulk of the ~21,000 reports stem from a limited number of neighborhoods. Below, we have divided the San Diego municipal area into
       <a
       href="https://en.wikipedia.org/wiki/Census_block_group">Census
       block groups</a>, the smallest geographical unit the United
       States Census Bureau uses to publish its sample data, with
       populations ranging from 600 to 3,000 people. Overlaid is
       a smoothed heatmap, showing the frequency
       of Get It Done reports in each area. </p>

    <table class="figure">
    <tr><td>
    <img src="sd_figures/report_distribution_smoothed.png" width="600px;"></td></tr>
    <tr><td>
      <pcaption>The distribution of Get It Done reports
    around San Diego</pcaption>
    </td></tr>
    </table>
       
<p>Most of the reports are clustered around Balboa
  Park downtown; 30% of block groups have each filed less
  than 10 reports since the Get It Done system went live. These areas account for 16% of
  San Diego's land area and 26% of its population. Critically,
  the city currently does not know whether the lack of Get It Done
  reports in these areas is due to a lack of problems or
  underreporting. If the city is unaware of serious problems in these
  block groups, they could be underserving a large portion of San
  Diego's residents. </p>

<p>Fortunately, we can use the information from block groups that
    <b><i>are</i></b> reporting to understand the needs of those that
    <b><i>aren't</i></b>. </p>

<h3>Data Exploration</h3>

<p>I would like to identify any possible patterns in San Diego's
 reported graffiti. To do this, I mapped out information from a wide range of
 data sources, including: 
<ul>  
<li> Demographics from the U.S. Census Bureau's <a href="https://factfinder.census.gov/faces/nav/jsf/pages/programs.xhtml?program=acs">American Community Survey</a>. Among other information, I looked at: <ul>
    <li>Age</li>
    <li>Race and Ethnicity</li>
    <li>Household Income</li>
    <li>English Fluency (as the 311 app is currently only available in
 English)</li>
    <li>Property Values </li>
    <li>Typical rent costs</li>
    </ul></li>
<li> <a href="http://data.sandiego.gov/dataset/get-it-done-requests-311">311 Get It Done Requests</a>, of which ~3000 are graffiti-related</li>
<li> <a href="http://data.sandiego.gov/dataset/code-enforcement-violations">Code Enforcement Violations</a>, including abandoned buildings</li>
<li> <a href="http://www.sandag.org/index.asp?classid=14&subclassid=21&projectid=446&fuseaction=projects.detail">Public Crime Data</a></li>
<li> <a href="http://www.sandag.org/index.asp?fuseaction=home.home">San Diego Infrastructure Information</a> such as: 
    <ul>
    <li>City Street Lights</li>
    <li>Publicly maintained Trees</li>
    <li>Police beats</li>
    </ul>
 </li>
 </ul>
</p>


 <p  id="map_dropdown" >Below is an
 interactive viewer of each of the San Diego block groups, color
 coded by the property selected in the dropdown menu.</p>

</br>
 
<p>Select the Information you'd Like to Display:</p>
<div class="options"><select id="field-select">
  <option value="REP_PER_CA">311 Reports per 1000 people</option>
  <option value="COUNT" selected>Number of 311 Reports</option>
  <option value="GRAFFITI_R">Percent of Reports Graffiti-Related</option>
  <option value="PREDICTED_">Predicted Percent of Reports
  Graffiti-Related</option>
  <!--<option value="COMBINED_L">Percentage of Actual and Predicted
  Reports Graffiti-Related</option>-->
  <option value="POPULATION">Population Density (per square mile)</option>
  <option value="TOTAL_POP">Total Population</option>
  <option value="CRIME_PER_">Crime Events per 1000 people</option>
  <option value="MEDIAN_HOU">Median Household Income</option>
  <option value="WHITE_PER">Caucasian Percentage of Population</option>
  <option value="LATIN_PER">Hispanic/Latino Percentage of Population</option>
  <option value="MEDIAN_AGE">Median Age</option>
  <option value="LIMITED_EN">Percentage of Households with Limited English</option>
  <option value="TREE_DENSI">Tree Density (per square mile)</option>
  <option value="SL_DENSITY">Streetlight Density (per square mile)</option>  
  <!--<option value="LAND_AREA">Land Area (square miles)</option>-->
  <!--<option value=""></option>-->
</select>
</div>

</br>
</br>


    <div id="mapid" style="align: center"></div>
    <script type="text/javascript" src="sdjs/mapping.js"></script>

</br>
</br>


<h3>Designing a Predictive Model</h3>

<p>
As I explored the data, some interesting patterns emerged. For example:
<ul>
  <li>Both high and low income areas have low reporting rates.</li>
  <li>Graffiti reports cluster in certain locations.</li>
  <li>There are more reports per person from areas with a larger
  Caucasian population.</li>
  <li>Graffiti rates tend to be higher in lower-income areas with high
  population density</li>
</ul></p>

<p>I used these patterns to inform my feature engineering and
selection, combining them 
together in a <a
href="http://scikit-learn.org/stable/modules/linear_model.html#ordinary-least-squares">Linear
Regression Model</a>. This model allows you to examine the effect each individual feature
has on the overall graffiti rate. This information can help San Diego
better understand its graffiti problem. However, because this model
can be severely affected by collinearity, I had to carefully select
which parameters were included. </p>

<p>To train my model, I extracted a sample of block groups with a range
of graffiti rates. Each of these block groups also has many reports
(more than 22), which increases my confidence that the reports
accurately reflect the local conditions. As there are many more block groups
with low graffiti reporting rates, I isolate regions where the
graffiti reporting rate is high, more than 40%. I then extract an
equal number of block groups where the graffiti-reporting rate is low
to create a well-balanced training set. This prevents my model from
being biased toward low graffiti rates. </p>

<p>Using careful feature selection and engineering, I used this
training set as the basis for a linear
regression model. Because the data set is sparse, it is difficult to
validate my model. As a test, I apply my
model to all remaining block groups with a statistically significant
number of reports (>22). When I compare my predicted graffiti rates to
the reported rates for block groups in my test set, I find that a <a
href="https://en.wikipedia.org/wiki/Residual_sum_of_squares">residual
sum of squares</a> of 0.05, suggesting that my model is a good
fit to the data. An examination of the distribution of the difference
between my predicted and reported graffiti rates shows a 0.17 standard
deviation, with graffiti rates ranging between 0 and 1. Although there
is some variation, my model is clearly able to distinguish between high and low graffiti rates. </p>

<h3>Recommendations for the City of San Diego</h3>

<p>Using my machine-learning model, I can predict the graffiti rates
for all the areas in San Diego that are not using the new Get It Done
system. This information will allow the San Diego government to
accomplish two important goals. First, it can use the data to better
market the Get It Done system in areas that are underreporting
graffiti. Second, it will allow the city to better anticipate each
block group's needs to ensure a better response time, preventing
additional graffiti and saving the city money. </p>


    <table class="figure">
    <tr><td><img src="sd_figures/side_by_side.png" width="750px;">
    </td></tr>
    <tr><td>
       <pcaption><i>Left:</i> A choropleth map of each block group in San
  Diego, color-coded by the fraction of Get It Done reports that are
  graffiti-related. The white regions are areas where we have less
  than 22 reports in total; for many of these we have no reports at
  all. <i>Right:</i> Here I have used my predictive
  model to constrain the graffiti rate in the individual block groups
    with minimal reporting. </pcaption>
      </td></tr>
    </table>


<h4>Response Time</h4>
<p>Improving response time is critical, as much of the graffiti in San Diego is tagging, where individuals are looking for publicity<sup><a href="#fn1" id="ref1">1</a></sup>. A quick clean up discourages tagging, as it limits the graffitis' exposure time.</p>

<p>Currently, the mean response time is 30 days for all San Diego block groups, regardless of their graffiti reporting rate. By
  identifying high graffiti areas, the city can focus its
  maintenance efforts on the areas most in need. </p>

<h4>Streetlights</h4>
<p>San Diego city government has also considered adding additional street lights
  to graffiti-ridden areas. The city theorized that graffiti was
    focused in darker areas, where it would be harder for someone to
    be seen committing a crime. I wanted to both test this theory and integrate
  streetlight frequency into my predictive model. Using local infrastructure databases, I
  determined the street light density (e.g., number of streetlights
    per
   square mile) for each block group. <p>

    <table class="figure">
    <tr><td><img src="sd_figures/streetlights_side_by_side.png"
  width="750px;">
    </td></tr>
    <tr><td>
      <pcaption><i>Left:</i> A smoothed heatmap showing the
    distribution of streetlights in San Diego. <i>Right:</i> As shown above, this figure uses my predictive model to fill in the
    areas with minimal reported with their expected graffiti rate. </pcaption>
      </td></tr>
    </table>
 

<p>The figure and  <a href="#map_dropdown">map</a> above show that
there is not a strong correlation between streetlight density and graffiti rates. I suspect that other
demographic factors complicate the analysis;
for example, areas with higher streetlight density are more densely
populated. </p>

<p>In addition, if the majority of graffiti in San Diego is done for publicity,
taggers will want to be close enough to a streetlight that their work
is visible, but far enough away that they do not get caught. Accordingly, looking
at the typical distance between a graffiti event and the nearest
streetlight can provide a more nuanced picture. </p>

<p>In both
  graffiti-rich and -poor areas, the median distance between a
  graffiti event and a streetlight is around 100 feet, which seems
  like a far distance. However, when I measure the distance
  between random locations in a block group and the nearest
  streetlight, the value is much higher, around 190 feet. Although
  these points are randomly placed, rather than clustered along a
  street, it indicates that there are many darker locations where
  people could be tagging but they are not, suggesting that
  streetlights alone are not a strong deterrent against graffiti.</p>

    <table class="figure" style="width: 360px">
    <tr><td><img src="sd_figures/sl_mindist_gper25_legend.png" width="350px;">
    </td></tr>
    <tr><td>
      <pcaption>Mean distance between a streetlight and a graffiti event
    (red) or a random location (black) for block groups with high graffiti and reporting rates. 
</pcaption>
      </td></tr>
    </table>


<p>In theory, streetlight outages would be the ideal situation for a
  tagger. They can work in the dark but, once the
  streetlight is repaired, their tag will be clearly visible. Residents can
  report when a streetlight is out via the Get It Done system, and I looked
  for a correlation between outages and graffiti events. Currently,
  there is no strong correlation between streetlight outages and
  graffiti, but there are only around 1300 outage reports in total. As
  the program continues and the data set expands, we can better search
  for any correlation.</p>

  
<h3>Final Thoughts</h3>

  <p>My predictive model of graffiti rates by blockgroup will allow
  San Diego to focus its maintenance efforts on the areas most in
  need, improving response time and discouraging tagging. The model
  also provides a useful metric for the city to see the effectiveness of their
  anti-graffiti programs. Finally, it allows the San Diego government to identify
  neighborhoods where they need to better engage the community with
  the Get It Done system. In the future, I can use
  additional data from the reporting system to improve and refine the
  model, creating even more utility for the city.</p>
  
  </br>
  </br>
  
<p><a name="fn1">1</a>: <a href="http://www.sandag.org/uploads/publicationid/publicationid_1667_14466.pdf">Graffiti Tracker: An Evaluation of the San Diego County Multi-Discipline Graffiti Abatement program</a> </p>
<p><a name="fn2">2</a>: <a href="https://en.wikipedia.org/wiki/Broken_windows_theory">Broken Windows Theory</a> </p>
<p><a name="fn3">3</a>: Sloan-Howitt, Maryalice, and George
    L. Kelling. "Subway graffiti in New York City: Gettin' Up
    vs. Meanin' It and Cleanin' It." Security Journal 1.3 (1990): 131-136.</p>
   <br />
     </div>
  </div>
  
  <br />
  </div>
 
</div>

<!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
var sc_project=11120743; 
var sc_invisible=1; 
var sc_security="3ba4e15c"; 
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="free hit
counter" href="http://statcounter.com/free-hit-counter/"
target="_blank"><img class="statcounter"
src="//c.statcounter.com/11120743/0/3ba4e15c/1/" alt="free
hit counter"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->
  
</body>
</html>
